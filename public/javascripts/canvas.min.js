var canvasObj={ctx:"",eles:[],isEmptyObject:function(a){for(var t in a)return!1;return!0},init:function(){var a=document.getElementById("mycavans");this.ctx=a.getContext("2d");var t=this;$.get("/locobj/getArc",function(a){var c=JSON.parse(a.result[0].paths);t.ctx.fillStyle="#ffffff",t.ctx.strokeStyle="#ff0000",t.ctx.beginPath(),t.ctx.arc(c.x,c.y,c.r,0,2*Math.PI,!0),t.ctx.closePath(),t.ctx.fill(),t.ctx.stroke()})},x:"",y:"",r:""};canvasObj.init();var flag=!1,TimeFn=null;$("#mycavans").on("click",function(a){clearTimeout(TimeFn),TimeFn=setTimeout(function(){var t,c;document.getElementById("show");a.layerX||0==a.layerX?(t=a.layerX,c=a.layerY):(a.offsetX||0==a.offsetX)&&(t=a.offsetX,c=a.offsetY),canvasObj.x=t,canvasObj.y=c,flag=!0},300)}),$("#mycavans").on("mousemove",function(a){var t;document.getElementById("show");a.layerX||0==a.layerX?(t=a.layerX,a.layerY):(a.offsetX||0==a.offsetX)&&(t=a.offsetX,a.offsetY),flag&&(canvasObj.ctx.clearRect(0,0,800,600),canvasObj.ctx.fillStyle="#ffffff",canvasObj.ctx.strokeStyle="#ff0000",canvasObj.ctx.beginPath(),canvasObj.r=Math.abs(t-canvasObj.x),canvasObj.ctx.arc(canvasObj.x,canvasObj.y,canvasObj.r,0,2*Math.PI,!0),canvasObj.ctx.closePath(),canvasObj.ctx.fill(),canvasObj.ctx.stroke(),$("#show").html("圆心坐标  X:"+canvasObj.x+",Y:"+canvasObj.y+"</br>半径："+canvasObj.r))}),$("#mycavans").on("dblclick",function(a){clearTimeout(TimeFn),flag=!1;document.getElementById("show");a.layerX||0==a.layerX?(a.layerX,a.layerY):(a.offsetX||0==a.offsetX)&&(a.offsetX,a.offsetY);var t='{"x":'+canvasObj.x+',"y":'+canvasObj.y+',"r":'+canvasObj.r+"}";$.post("/locobj/saveArc",{arc:t},function(a){console.log("success")})}),$("#queryObj").click(function(){window.location.href="./locCanvas.html"});